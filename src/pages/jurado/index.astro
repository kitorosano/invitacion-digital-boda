---
import { actions } from "astro:actions";
import GoUpButton from "../../components/jurado/GoUpButton.astro";
import GridGallery from "../../components/jurado/GridGallery";
import HeaderTabs from "../../components/jurado/HeaderTabs.astro";
import {
  gridGalleryProps,
  headerTabsProps,
  layoutProps,
} from "../../constants/jurado";
import BingoLayout from "../../layouts/BingoLayout.astro";
import { GalleryTab } from "../../types";

const initialTasksWithPhoto = [];
const { data } = await Astro.callAction(actions.getTasksWithPhoto, {});
if (data) initialTasksWithPhoto.push(...data.tasksWithPhoto);
---

<BingoLayout requiredOrientation="landscape" {...layoutProps}>
  <HeaderTabs currentTab={GalleryTab.ALL} {...headerTabsProps} />
  <GridGallery
    {...gridGalleryProps}
    initialTasksWithPhoto={initialTasksWithPhoto}
    showFilterControls={true}
    client:load
  />
  <GoUpButton />
</BingoLayout>
